{"version":3,"sources":["webpack:///./src/views/Signin.vue?5b45","webpack:///src/views/Signin.vue","webpack:///./src/views/Signin.vue?ea87","webpack:///./src/views/Signin.vue","webpack:///./src/components/LoginCard.vue?4c20","webpack:///src/components/LoginCard.vue","webpack:///./src/components/LoginCard.vue?b901","webpack:///./src/components/LoginCard.vue","webpack:///./src/views/Signin.vue?acd2"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","submit","slot","_v","model","value","callback","$$v","account","expression","password","staticRenderFns","name","components","LoginCard","data","methods","event","preventDefault","length","$swal","toast","showConfirmButton","icon","title","position","timer","timerProgressBar","axios","post","component","class","cardHidden","getClass","headerColor","_t","props","type","String","default","beforeMount","setTimeout","showCard"],"mappings":"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","file":"js/Signin.436255e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"signin\"}},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"section page-header header-filter\"},[_c('b-form',{staticClass:\"container\",on:{\"submit\":_vm.submit}},[_c('div',{staticClass:\"md-layout\"},[_c('div',{staticClass:\"md-layout-item md-size-33 md-small-size-66 md-xsmall-size-100 md-medium-size-40 mx-auto\"},[_c('h4',{staticClass:\"card-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"會員登入\"),_c('small',{staticClass:\"card-sub-title\"},[_vm._v(\"Sign in\")])]),_c('p',{staticClass:\"description\",attrs:{\"slot\":\"description\"},slot:\"description\"},[_c('md-field',{staticClass:\"md-form-group\",attrs:{\"slot\":\"inputs\"},slot:\"inputs\"},[_c('md-icon',[_vm._v(\"account_circle\")]),_c('label',[_vm._v(\"帳號\")]),_c('md-input',{attrs:{\"type\":\"text\",\"required\":\"\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}})],1),_c('md-field',{staticClass:\"md-form-group\",attrs:{\"slot\":\"inputs\"},slot:\"inputs\"},[_c('md-icon',[_vm._v(\"lock_outline\")]),_c('label',[_vm._v(\"密碼\")]),_c('md-input',{attrs:{\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('footer',{staticClass:\"md-simple md-lg\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('router-link',{attrs:{\"to\":\"/signup\"}},[_c('md-button',[_vm._v(\"註冊\")])],1),_c('md-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"登入\")])],1),_c('p')])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n  #signin\r\n    .wrapper\r\n      .section.page-header.header-filter\r\n        b-form.container(@submit=\"submit\")\r\n          .md-layout\r\n            .md-layout-item.md-size-33.md-small-size-66.md-xsmall-size-100.md-medium-size-40.mx-auto\r\n              h4.card-title(slot='title') 會員登入\r\n                small.card-sub-title Sign in\r\n              p.description(slot='description')\r\n                md-field.md-form-group(slot='inputs')\r\n                  md-icon account_circle\r\n                  label 帳號\r\n                  md-input(\r\n                    v-model='account'\r\n                    type=\"text\"\r\n                    required\r\n                    )\r\n                md-field.md-form-group(slot='inputs')\r\n                  md-icon lock_outline\r\n                  label 密碼\r\n                  md-input(\r\n                    v-model='password'\r\n                    type='password'\r\n                    required\r\n                    )\r\n                footer.md-simple.md-lg(slot='footer')\r\n                  router-link(to=\"/signup\")\r\n                    md-button 註冊\r\n                  md-button(type=\"submit\") 登入\r\n</template>\r\n\r\n<script>\r\nimport { LoginCard } from '../components/LoginCard.vue'\r\n\r\nexport default {\r\n  name: 'Signin',\r\n  components: {\r\n    LoginCard\r\n  },\r\n  data () {\r\n    return {\r\n      account: '',\r\n      password: ''\r\n    }\r\n  },\r\n  methods: {\r\n    submit (event) {\r\n      event.preventDefault()\r\n      if (this.account.length < 4 || this.account.length > 20) { // 前台先驗證\r\n        this.$swal({\r\n          toast: true,\r\n          showConfirmButton: false,\r\n          icon: 'error',\r\n          title: '帳號格式不符',\r\n          position: 'top-end',\r\n          timer: 3000,\r\n          timerProgressBar: true\r\n        })\r\n        return\r\n      } if (this.password.length < 4 || this.password.length > 20) {\r\n        this.$swal({\r\n          toast: true,\r\n          showConfirmButton: false,\r\n          icon: 'error',\r\n          title: '密碼格式不符',\r\n          position: 'top-end',\r\n          timer: 3000,\r\n          timerProgressBar: true\r\n        })\r\n        return\r\n      }\r\n      this.axios.post(process.env.VUE_APP_APIURL + '/signin', {\r\n        account: this.account,\r\n        password: this.password\r\n      })\r\n        .then(res => {\r\n          const data = res.data\r\n          if (data.result[0].admin) { // admin 欄位為true 才可登入後台\r\n            this.$swal({\r\n              toast: true,\r\n              showConfirmButton: false,\r\n              icon: 'success',\r\n              title: '登入成功',\r\n              position: 'top-end',\r\n              timer: 3000,\r\n              timerProgressBar: true\r\n            })\r\n            this.$store.commit('adminSignin', this.account) // 存進vuex\r\n            this.$router.push('/adminboard')\r\n          } else { // user 登入後到菜單頁面\r\n            this.$swal({\r\n              toast: true,\r\n              showConfirmButton: false,\r\n              icon: 'success',\r\n              title: '登入成功',\r\n              position: 'top-end',\r\n              timer: 3000,\r\n              timerProgressBar: true\r\n            })\r\n            this.$store.commit('signin', this.account) // 存進vuex\r\n            this.$router.push('/menu')\r\n          }\r\n        })\r\n        .catch(err => { // 登入失敗\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: err.response.data.message,\r\n            timer: 3000,\r\n            timerProgressBar: true\r\n          })\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/scss/material-kit.scss\";\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signin.vue?vue&type=template&id=1147615a&scoped=true&lang=pug&\"\nimport script from \"./Signin.vue?vue&type=script&lang=js&\"\nexport * from \"./Signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signin.vue?vue&type=style&index=0&id=1147615a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1147615a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-card-login\",class:{ 'md-card-hidden': _vm.cardHidden }},[_c('md-card-header',{class:_vm.getClass(_vm.headerColor)},[_vm._t(\"title\"),_c('div',{staticClass:\"social-line\"},[_vm._t(\"buttons\")],2)],2),_c('md-card-content',[_vm._t(\"description\"),_vm._t(\"inputs\")],2),_c('md-card-actions',[_vm._t(\"footer\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card class=\"md-card-login\" :class=\"{ 'md-card-hidden': cardHidden }\">\r\n    <md-card-header :class=\"getClass(headerColor)\">\r\n      <slot name=\"title\"></slot>\r\n      <div class=\"social-line\">\r\n        <slot name=\"buttons\"></slot>\r\n      </div>\r\n    </md-card-header>\r\n\r\n    <md-card-content>\r\n      <slot name=\"description\"></slot>\r\n      <slot name=\"inputs\"></slot>\r\n    </md-card-content>\r\n\r\n    <md-card-actions>\r\n      <slot name=\"footer\"></slot>\r\n    </md-card-actions>\r\n  </md-card>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'login-card',\r\n  props: {\r\n    headerColor: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      cardHidden: true\r\n    }\r\n  },\r\n  beforeMount () {\r\n    setTimeout(this.showCard, 400)\r\n  },\r\n  methods: {\r\n    showCard: function () {\r\n      this.cardHidden = false\r\n    },\r\n    getClass: function (headerColor) {\r\n      return 'md-card-header-' + headerColor + ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginCard.vue?vue&type=template&id=12f22906&\"\nimport script from \"./LoginCard.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=1147615a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&id=1147615a&lang=scss&scoped=true&\""],"sourceRoot":""}