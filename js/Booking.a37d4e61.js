(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Booking"],{db05:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"booking"}},[o("card",[o("form",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-alert",{attrs:{variant:"warning",show:""}},[e._v("編輯格式提醒 / 日期：yyyy-mm-dd / 時間：hr:min")])],1)],1),o("paper-table",{attrs:{data:e.tableData,columns:e.tableColumns,type:"hover"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[o("td",[e._v(e._s(n.ID))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1):o("td",[e._v(e._s(n.name))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}})],1):o("td",[e._v(e._s(n.gender))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1):o("td",[e._v(e._s(n.mobile))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.people,callback:function(t){e.$set(e.model,"people",t)},expression:"model.people"}})],1):o("td",[e._v(e._s(n.people))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.date,callback:function(t){e.$set(e.model,"date",t)},expression:"model.date"}})],1):o("td",[e._v(e._s(n.date))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.time,callback:function(t){e.$set(e.model,"time",t)},expression:"model.time"}})],1):o("td",[e._v(e._s(n.time))]),o("td",{staticClass:"icon-col"},[n.edit?o("div",{staticClass:"btn-edit"},[o("p-button",{attrs:{outline:""},nativeOn:{click:function(t){return e.handleUpdate(n)}}},[e._v("update")]),o("p-button",{attrs:{outline:""},nativeOn:{click:function(t){return e.handleCancel(n)}}},[e._v("cancel")])],1):o("div",{staticClass:"btn-default"},[o("p-button",{attrs:{type:"info",icon:""},nativeOn:{click:function(t){return e.handleEdit(n)}}},[o("i",{staticClass:"ti-pencil-alt"})]),o("p-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:""},nativeOn:{click:function(t){return e.handleDelete(n)}}},[o("i",{staticClass:"ti-close"})])],1)])]}}])})],1)])],1)},i=[],l=(o("d81d"),o("b0c0"),o("2af9")),a={name:"Booking",components:{PaperTable:l["e"]},data:function(){return{tableColumns:["ID","姓名","性別","電話","人數","訂位日期","訂位時間","編輯 / 刪除"],tableData:[],model:[{name:"",gender:"",mobile:"",people:"",date:"",time:""}]}},methods:{handleEdit:function(e){this.model.name=e.name,this.model.gender=e.gender,this.model.mobile=e.mobile,this.model.people=e.people,this.model.date=e.date,this.model.time=e.time,e.edit=!0},handleDelete:function(e){var t=this;event.preventDefault();var o=confirm("確定要刪除？");o&&this.axios.delete("https://project-19101-cuisine.herokuapp.com//booking/"+e.id).then((function(e){t.$swal({toast:!0,showConfirmButton:!1,icon:"success",title:"刪除成功",position:"top-end",timer:2e3,timerProgressBar:!0}),setTimeout((function(){location.reload()}),2e3)})).catch((function(e){alert(e.message)}))},handleUpdate:function(e){var t=this;event.preventDefault(),this.axios.patch("https://project-19101-cuisine.herokuapp.com//booking",{id:e.id,name:this.model.name,gender:this.model.gender,mobile:this.model.mobile,people:this.model.people,date:this.model.date,time:this.model.time}).then((function(e){t.$swal({toast:!0,showConfirmButton:!1,icon:"success",title:"更新成功",position:"top-end",timer:2e3,timerProgressBar:!0}),setTimeout((function(){location.reload()}),2e3)})).catch((function(e){alert("請按照格式，日期: yyyy-mm-dd，時間: hr:min"),console.log(e.message)})),e.edit=!1},handleCancel:function(e){e.edit=!1},toggleSort:function(e){console.log(this.tableData)}},mounted:function(){var e=this;this.axios.get("https://project-19101-cuisine.herokuapp.com//booking").then((function(t){var o=0;e.tableData=t.data.result.map((function(e){return o++,{id:e.id,ID:o,name:e.name,gender:e.gender,mobile:e.mobile,people:e.people,date:e.date.substr(0,10),time:e.time,edit:!1}}))})).catch((function(e){console.log(e)}))}},d=a,s=o("2877"),c=Object(s["a"])(d,n,i,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=Booking.a37d4e61.js.map