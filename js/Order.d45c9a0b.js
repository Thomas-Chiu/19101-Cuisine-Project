(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Order"],{da25:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"order"}},[o("card",[o("form",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-alert",{attrs:{variant:"warning",show:""}},[e._v("編輯格式提醒 / 外帶欄位：輸入內用或外帶 / 日期：yyyy-mm-dd / 時間：hr:min / 備註 30 字內")])],1)],1),o("paper-table",{attrs:{data:e.tableData,columns:e.tableColumns,type:"hover"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[o("td",[e._v(e._s(n.ID))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1):o("td",[e._v(e._s(n.name))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.gender,callback:function(t){e.$set(e.model,"gender",t)},expression:"model.gender"}})],1):o("td",[e._v(e._s(n.gender))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1):o("td",[e._v(e._s(n.mobile))]),n.edit?o("td",[o("fg-input",{attrs:{placeholder:"請輸入 內用 / 外帶"},model:{value:e.model.togo,callback:function(t){e.$set(e.model,"togo",t)},expression:"model.togo"}})],1):o("td",[e._v(e._s(n.togo))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.orderDate,callback:function(t){e.$set(e.model,"orderDate",t)},expression:"model.orderDate"}})],1):o("td",[e._v(e._s(n.orderDate))]),n.edit?o("td",[o("fg-input",{model:{value:e.model.pickupTime,callback:function(t){e.$set(e.model,"pickupTime",t)},expression:"model.pickupTime"}})],1):o("td",[e._v(e._s(n.pickupTime))]),n.edit?o("td",[o("b-textarea",{attrs:{rows:"4"},model:{value:e.model.memo,callback:function(t){e.$set(e.model,"memo",t)},expression:"model.memo"}})],1):o("td",[e._v(e._s(n.memo))]),o("td",{staticClass:"icon-col"},[n.edit?o("div",{staticClass:"btn-edit"},[o("p-button",{attrs:{outline:""},nativeOn:{click:function(t){return e.handleUpdate(n)}}},[e._v("update")]),o("p-button",{attrs:{outline:""},nativeOn:{click:function(t){return e.handleCancel(n)}}},[e._v("cancel")])],1):o("div",{staticClass:"btn-default"},[o("p-button",{attrs:{type:"info",icon:""},nativeOn:{click:function(t){return e.handleEdit(n)}}},[o("i",{staticClass:"ti-pencil-alt"})]),o("p-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:""},nativeOn:{click:function(t){return e.handleDelete(n)}}},[o("i",{staticClass:"ti-close"})])],1)])]}}])})],1)])],1)},i=[],a=(o("d81d"),o("b0c0"),o("2af9")),l={name:"Order",components:{PaperTable:a["e"]},data:function(){return{tableColumns:["ID","姓名","性別","電話","外帶","取餐日期","取餐時間","備註","編輯 / 刪除"],tableData:[],model:[{name:"",gender:"",mobile:"",togo:"",orderDate:"",pickupTime:"",memo:""}]}},methods:{handleEdit:function(e){this.model.name=e.name,this.model.gender=e.gender,this.model.mobile=e.mobile,this.model.togo=e.togo,this.model.orderDate=e.orderDate,this.model.pickupTime=e.pickupTime,this.model.memo=e.memo,e.edit=!0},handleDelete:function(e){var t=this;event.preventDefault();var o=confirm("確定要刪除？");o&&this.axios.delete(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/order/"+e.id).then((function(e){t.$swal({toast:!0,showConfirmButton:!1,icon:"success",title:"刪除成功",position:"top-end",timer:2e3,timerProgressBar:!0}),setTimeout((function(){location.reload()}),2e3)})).catch((function(e){alert(e.message)}))},handleUpdate:function(e){var t=this;event.preventDefault(),this.axios.patch(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/order/"+e.id,{name:this.model.name,gender:this.model.gender,mobile:this.model.mobile,togo:this.model.togo,orderDate:this.model.orderDate,pickupTime:this.model.pickupTime,memo:this.model.memo}).then((function(e){t.$swal({toast:!0,showConfirmButton:!1,icon:"success",title:"更新成功",position:"top-end",timer:2e3,timerProgressBar:!0}),setTimeout((function(){location.reload()}),2e3)})).catch((function(e){alert("請按照格式，日期: yyyy-mm-dd，時間: hr:min"),console.log(e.message)})),e.edit=!1},handleCancel:function(e){e.edit=!1},toggleSort:function(e){console.log(this.tableData)}},mounted:function(){var e=this;this.axios.get(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/order").then((function(t){console.log(t);var o=0;e.tableData=t.data.result.map((function(e){var t="";return t="外帶"===e.togo?"✔":"",o++,{id:e.id,ID:o,name:e.name,gender:e.gender,mobile:e.mobile,togo:t,orderDate:e.orderDate.substr(0,10),pickupTime:e.pickupTime,items:e.items,memo:e.memo,edit:!1}}))})).catch((function(e){console.log(e)}))}},d=l,r=o("2877"),s=Object(r["a"])(d,n,i,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=Order.d45c9a0b.js.map